<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>DrawGame.io</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
        <link rel="stylesheet" type="text/css" href="/css/profile.css">
        <script src="/js/profile.js"></script>
    </head>
    <body>
        <% include header %>
        <div id="profileSection" class="d-flex flex-column m-3">
            <div class="d-flex justify-content-center p-2">
                <% if (user.thumbnail) { %>
                    <img src="<%= user.thumbnail %>"/>
                <% }else{ %>
                    <img src="/pic/defult-thumbnail.png"/>
                <% } %>    
            </div>
            <div id="formSection" class="justify-content-center p-3 nonDisplay">
                <form enctype='application/json' method="POST" >
                    <div class="form-group">
                        <label for="inputUserName">User Name</label>              
                        <input type="text" name='username' class="form-control" id="inputUserName" aria-describedby="emailHelp" placeholder="<%= user.username %>" pattern="{1,15}" autocomplete="on">
                    </div>
                    <div class="form-group">
                        <label for="oldPassword">Old Password</label>
                        <input type="password" name='oldPassword' class="form-control" id="oldPassword" placeholder="Password" pattern="[A-Za-z0-9]{4,15}" title="4-15 letter and without symbol!" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password</label>
                        <input type="password" name='newPassword' class="form-control" id="newPassword" placeholder="Password" pattern="[A-Za-z0-9]{4,15}" title="4-15 letter and without symbol!" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label for="newPasswordcheck">New Password Check</label>
                        <input type="password" name='newPasswordcheck' class="form-control" id="newPasswordcheck" placeholder="Password" pattern="[A-Za-z0-9]{4,15}" title="4-15 and letter without symbol!" autocomplete="off">
                    </div>
                    <button type="submit" class="btn btn-primary mt-2" formaction="/auth/modify">Modify</button>
                    <input class="btn btn-danger mt-2 ml-3" type="reset" value="Reset">
                    <button class="btn btn-warning mt-2 ml-3" onclick="cancelModify()">Cancel</button>
                </form>
            </div> 
            <div id="infoSection" class="text-center p-3">
                <i class="fas fa-user fa-2x pb-3"></i>
                <h5 id="userName"><%= user.username %></h5>
                <i class="fas fa-medal fa-2x p-3"></i>
                <h5 id="userRecord"><%= user.win %>W <%= user.lose %>L</h5>
                <button type="button" class="btn btn-info m-3" onclick="showModifySection()">Modify User Info</button> 
            </div> 
        </div>  
    </body>
</html>